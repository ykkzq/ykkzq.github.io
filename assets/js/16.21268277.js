(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{335:function(a,t,s){"use strict";s.r(t);var e=s(33),l=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("PM2 是 node 进程管理工具，可以利用它来简化很多 node 应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单。\n全局安装，简直不能更简单。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm install -g pm2\n")])])]),s("p",[a._v("用 express 应用来举例。一般我们都是通过 npm start 启动应用，其实就是调用 node ./bin/www。那么，换成 pm2 就是")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 start ./bin/www --watch(--watch：监听应用目录的变化，一旦发生变化，自动重启。如果要精确监听、不监听的目录，最好通过配置文件。)\n")])])]),s("p",[a._v("重启")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 restart ./bin/www\n")])])]),s("p",[a._v("停止")]),a._v(" "),s("p",[a._v("停止特定的应用。可以先通过 pm2 list 获取应用的名字（--name 指定的）或者进程 id。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 stop app_name|app_id\n")])])]),s("p",[a._v("如果要停止所有应用，可以")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 stop all\n")])])]),s("p",[a._v("删除")]),a._v(" "),s("p",[a._v("类似 pm2 stop，如下")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 delete app_name|app_id\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 delete all\n")])])]),s("p",[a._v("查看进程状态")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 list\n")])])])])}),[],!1,null,null,null);t.default=l.exports}}]);